<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:a="http://schemas.actiprosoftware.com/avaloniaui"
             xmlns:pages="clr-namespace:AutoSpex.Client.Pages"
             xmlns:shared="clr-namespace:AutoSpex.Client.Shared"
             xmlns:controls="clr-namespace:AutoSpex.Client.Resources.Controls"
             x:Class="AutoSpex.Client.Pages.SourceDetailPage"
             x:DataType="pages:SourceDetailPageModel">


    <Design.Width>1400</Design.Width>
    <Design.Height>900</Design.Height>

    <DockPanel>

        <Border DockPanel.Dock="Top" Padding="20 15" Background="{a:ThemeResource Container2BackgroundBrush}">
            
            <Grid ColumnDefinitions="*,Auto">

                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="5">
                    <PathIcon Theme="{Binding Icon, Converter={StaticResource KeyIconConverter}}" />
                    <ContentControl Content="{Binding Source}" ContentTemplate="{StaticResource ObserverName}" />
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="10">
                    <Button Classes="run accent" />
                    <Button Command="{Binding SaveCommand}" Classes="save" />
                    <Button Classes="more">
                        <Button.Flyout>
                            <MenuFlyout
                                ItemsSource="{Binding Source.MenuItems}"
                                ItemContainerTheme="{StaticResource MenuActionItem}"
                                Placement="BottomEdgeAlignedRight" HorizontalOffset="8" VerticalOffset="5" />
                        </Button.Flyout>
                    </Button>
                </StackPanel>

            </Grid>

        </Border>
        
        <controls:DrawerView
            IsDrawerOpen="{Binding ShowDrawer, Mode=TwoWay}"
            DrawerMinLength="49"
            DrawerPlacement="Bottom"
            HideSplitter="False">

            <controls:DrawerView.Drawer>
                <!--<ContentControl Content="{Binding }" />-->
            </controls:DrawerView.Drawer>

            <!--<ContentControl Content="{Binding CriteriaPage}" />-->

        </controls:DrawerView>

        <!--<DockPanel>

            <TabStrip
                DockPanel.Dock="Top"
                ItemsSource="{Binding Tabs}"
                SelectedItem="{Binding Tab}"
                ItemContainerTheme="{StaticResource TabStripItemStandard}"
                Background="{a:ThemeResource Container2BackgroundBrush}"
                BorderThickness="0"
                Padding="20 0">

                <TabStrip.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="15" />
                    </ItemsPanelTemplate>
                </TabStrip.ItemsPanel>

                <TabStrip.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Title}" />
                    </DataTemplate>
                </TabStrip.ItemTemplate>

            </TabStrip>

            <ContentControl Content="{Binding Tab}">
                <ContentControl.ContentTemplate>
                    <DataTemplate x:DataType="shared:PageViewModel">
                        <ContentControl Content="{Binding}" />
                    </DataTemplate>
                </ContentControl.ContentTemplate>
            </ContentControl>

        </DockPanel>-->

    </DockPanel>
</UserControl>