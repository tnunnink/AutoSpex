<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:a="http://schemas.actiprosoftware.com/avaloniaui"
                    xmlns:components="using:AutoSpex.Client.Components"
                    xmlns:engine="clr-namespace:AutoSpex.Engine;assembly=AutoSpex.Engine">

    <Design.PreviewWith>
        <Border BorderBrush="{a:ThemeResource PopupBorderBrush}"
                BorderThickness="{a:ThemeResource PopupBorderThickness}"
                CornerRadius="{a:ThemeResource PopupCornerRadius}"
                Margin="20">
            <components:ElementList />
        </Border>
    </Design.PreviewWith>

    <ControlTheme x:Key="{x:Type components:ElementList}" TargetType="components:ElementList">
        <Setter Property="Template">
            <ControlTemplate>
                <ListBox x:Name="ElementList"
                         ItemsSource="{Binding Elements, RelativeSource={RelativeSource TemplatedParent}}"
                         SelectedItem="{Binding Element, RelativeSource={RelativeSource TemplatedParent}}"
                         Background="Transparent"
                         BorderThickness="0"
                         Padding="5" 
                         Width="300">
                    <ListBox.Styles>
                        <Style Selector="ListBoxItem">
                            <Setter Property="CornerRadius" Value="5" />
                            <Setter Property="Padding" Value="5" />
                            <Setter Property="Theme" Value="{StaticResource ListBoxItemSimple}" />
                        </Style>
                    </ListBox.Styles>
                    <ListBox.ItemTemplate>
                        <DataTemplate DataType="engine:Element">
                            <StackPanel Orientation="Horizontal" Spacing="5">
                                <PathIcon Theme="{StaticResource IconXml}"
                                          Height="20" Width="20" Padding="3 4 3 3 " />
                                <TextBlock Text="{Binding Name}" />
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </ControlTemplate>
        </Setter>
    </ControlTheme>
</ResourceDictionary>